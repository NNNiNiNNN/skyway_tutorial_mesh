"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RemoteDataStream = void 0;
const common_1 = require("@skyway-sdk/common");
const _1 = require(".");
class RemoteDataStream extends _1.RemoteStreamBase {
    /**@internal */
    constructor(id, label, _datachannel) {
        super(id, label, 'data');
        this._datachannel = _datachannel;
        this.contentType = 'data';
        this.onData = new common_1.Event();
        _datachannel.onmessage = ({ data }) => {
            this.onData.emit(JSON.parse(data));
        };
    }
}
exports.RemoteDataStream = RemoteDataStream;
//# sourceMappingURL=data.js.map