"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.detachElement = exports.attachElement = void 0;
const common_1 = require("@skyway-sdk/common");
/**@internal */
function attachElement(element, track) {
    var _a;
    if (((_a = (element !== null && element !== void 0 ? element : {})) === null || _a === void 0 ? void 0 : _a.srcObject) === undefined) {
        throw new common_1.SkyWayError({
            type: 'invalidType',
            message: 'invalid element was passed',
            payload: { element },
        });
    }
    if (element.srcObject) {
        element.srcObject.addTrack(track);
    }
    else {
        element.srcObject = new MediaStream([track]);
    }
}
exports.attachElement = attachElement;
/**@internal */
function detachElement(element, track) {
    var _a;
    if (((_a = (element !== null && element !== void 0 ? element : {})) === null || _a === void 0 ? void 0 : _a.srcObject) === undefined) {
        throw new common_1.SkyWayError({
            type: 'invalidType',
            message: 'invalid element was passed',
            payload: { element },
        });
    }
    const stream = element.srcObject;
    if (stream.getTracks().length > 0) {
        stream.removeTrack(track);
    }
    if (stream.getTracks().length === 0) {
        element.srcObject = null;
    }
}
exports.detachElement = detachElement;
//# sourceMappingURL=share.js.map