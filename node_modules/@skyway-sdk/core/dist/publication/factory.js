"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createPublication = void 0;
const _1 = require(".");
/**@internal */
function createPublication(channel, { publisherId, stream, origin, metadata, codecCapabilities, encodings, contentType, id, }) {
    const exist = channel._getPublication(id);
    if (exist) {
        return exist;
    }
    // todo fix
    contentType = contentType.toLowerCase();
    const publication = new _1.PublicationImpl({
        id,
        channel,
        publisherId,
        contentType,
        metadata,
        origin,
        stream,
        codecCapabilities: codecCapabilities !== null && codecCapabilities !== void 0 ? codecCapabilities : [],
        encodings: encodings !== null && encodings !== void 0 ? encodings : [],
    });
    return publication;
}
exports.createPublication = createPublication;
//# sourceMappingURL=factory.js.map