"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SkyWayError = void 0;
const logger_1 = require("./logger");
const log = new logger_1.Logger('packages/common/src/error.ts');
class SkyWayError extends Error {
    constructor(init, logging = true) {
        super(init.message);
        this.id = Math.random().toString().slice(2, 10);
        Object.assign(this, init);
        this.name = this.type;
        if (logging) {
            if (this.payload) {
                log.warn('error detail', `id:${this.id}, type:${this.type}, message:${this.message}`, this.payload);
            }
            else {
                log.warn('error detail', `id:${this.id}, type:${this.type}, message:${this.message}`);
            }
        }
    }
    toJSON() {
        return { type: this.type, message: this.message, payload: this.payload };
    }
}
exports.SkyWayError = SkyWayError;
//https://developers.google.com/search-ads/v2/standard-error-responses
//# sourceMappingURL=error.js.map