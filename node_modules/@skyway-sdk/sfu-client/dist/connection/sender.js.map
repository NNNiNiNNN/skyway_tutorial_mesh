{"version":3,"file":"sender.js","sourceRoot":"","sources":["../../src/connection/sender.ts"],"names":[],"mappings":"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"}